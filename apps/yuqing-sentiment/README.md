# æ–°é—»èˆ†æƒ…åˆ†æç³»ç»Ÿ

ä¸€ä¸ªåŸºäºAIçš„æ–°é—»èˆ†æƒ…åˆ†æç³»ç»Ÿï¼Œå®æ—¶é‡‡é›†åˆ†ææ–°é—»æ•°æ®ï¼Œæä¾›æƒ…æ„Ÿåˆ†æå’Œå®ä½“è¯†åˆ«ã€‚

## ğŸŒŸ ç³»ç»Ÿç‰¹æ€§

- **ğŸ” å¤šæºæ•°æ®é‡‡é›†**: Google Newsã€è´¢è”ç¤¾ç­‰å¤šä¸ªæ–°é—»æº
- **ğŸ¤– æ™ºèƒ½AIåˆ†æ**: åŸºäºDeepSeekå¤§æ¨¡å‹çš„æƒ…æ„Ÿåˆ†æå’Œå®ä½“è¯†åˆ«
- **âš¡ 10å€å¹¶å‘å¤„ç†**: 10ä¸ªAPIå¯†é’¥å¹¶å‘åˆ†æï¼Œå¤§å¹…æå‡å¤„ç†é€Ÿåº¦
- **ğŸ”„ å®æ—¶è‡ªåŠ¨æ›´æ–°**: æ¯5åˆ†é’Ÿè‡ªåŠ¨é‡‡é›†æœ€æ–°æ–°é—»
- **ğŸ“Š ç»¼åˆæ•°æ®API**: ä¸€é”®è·å–å®Œæ•´åˆ†ææ•°æ®ï¼ˆæ–°é—»+æƒ…æ„Ÿ+å®ä½“ï¼‰
- **ğŸŒ RESTful API**: å®Œæ•´çš„REST APIæ¥å£æœåŠ¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- PostgreSQL 12+
- Redis 6+ (å¯é€‰)

### ä¸€é”®å®‰è£…

1. **ç¯å¢ƒå®‰è£…**
```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

2. **é…ç½®APIå¯†é’¥**
ç¼–è¾‘ `config/api_keys.txt`ï¼Œæ·»åŠ DeepSeek APIå¯†é’¥ï¼ˆæ¯è¡Œä¸€ä¸ªï¼Œå»ºè®®10ä¸ªï¼‰

3. **å¯åŠ¨ç³»ç»Ÿ**
```bash
# å¯åŠ¨èˆ†æƒ…åˆ†ææœåŠ¡
python src/main.py
```

4. **è®¿é—®APIæ–‡æ¡£**
æµè§ˆå™¨æ‰“å¼€: http://localhost:8000/docs

## ğŸ“Š æ ¸å¿ƒAPIæ¥å£

### ğŸ† ç»¼åˆæ•°æ®APIï¼ˆæ¨èï¼‰
è·å–å·²åˆ†ææ–°é—»çš„å®Œæ•´æ•°æ®ï¼ˆæ–°é—»å†…å®¹+æƒ…æ„Ÿåˆ†æ+å®ä½“è¯†åˆ«ï¼‰
```bash
GET /api/news/comprehensive?hours=24&limit=10&include_entities=true
```

### ğŸ“° æ–°é—»API
```bash
# è·å–æ–°é—»åˆ—è¡¨
GET /api/news/?limit=20

# è·å–å•æ¡æ–°é—»è¯¦æƒ…
GET /api/news/{news_id}

# è·å–ç³»ç»Ÿç»Ÿè®¡
GET /api/news/stats

# è´¢è”ç¤¾ä¸“ç”¨API
GET /api/news/cailian/latest
POST /api/news/cailian/fetch
GET /api/news/cailian/search?q=å…³é”®è¯
```

### ğŸ§  åˆ†æAPI
```bash
# æƒ…æ„Ÿåˆ†æç»Ÿè®¡
GET /api/analysis/stats/sentiment?hours=24

# çƒ­é—¨å…³é”®è¯
GET /api/analysis/keywords/trending?limit=20

# æ™ºèƒ½çƒ­ç‚¹å‘ç°
GET /api/analysis/hotspots/discover?limit=10

# æ‰‹åŠ¨è§¦å‘åˆ†æ
POST /api/analysis/analyze/recent
```

### ğŸ¯ å®ä½“åˆ†æAPI
```bash
# å…¬å¸å®ä½“åˆ†æ
GET /api/entities/companies?limit=20&impact_direction=positive

# äººç‰©å®ä½“åˆ†æ
GET /api/entities/persons?limit=20

# è¡Œä¸šå½±å“åˆ†æ
GET /api/entities/industries?limit=15

# å…³é”®äº‹ä»¶åˆ†æ
GET /api/entities/events?limit=10

# å®æ—¶æ–‡æœ¬å®ä½“æå–
POST /api/entities/entities/extract
```

## ğŸ“‹ è¿”å›æ•°æ®ç¤ºä¾‹

### ç»¼åˆAPIè¿”å›æ ¼å¼
```json
{
  "data": [
    {
      "news": {
        "id": "æ–°é—»ID",
        "title": "æ–°é—»æ ‡é¢˜",
        "content": "æ–°é—»å†…å®¹",
        "source": "æ¥æº",
        "published_at": "å‘å¸ƒæ—¶é—´"
      },
      "sentiment_analysis": {
        "sentiment_label": "positive|negative|neutral",
        "confidence_score": 0.85,
        "market_impact_level": "high|medium|low",
        "analysis_result": {
          "summary": "åˆ†ææ‘˜è¦",
          "keywords": ["å…³é”®è¯"],
          "reasoning": "åˆ†ææ¨ç†"
        }
      },
      "entity_analysis": {
        "companies": [/* å…¬å¸å®ä½“ */],
        "persons": [/* äººç‰©å®ä½“ */],
        "industries": [/* è¡Œä¸šå½±å“ */],
        "events": [/* å…³é”®äº‹ä»¶ */]
      }
    }
  ],
  "summary": {
    "total_analyzed": 10,
    "time_range_hours": 24,
    "entity_counts": {
      "companies": 15,
      "persons": 8,
      "industries": 12,
      "events": 6
    }
  }
}
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æŠ€æœ¯æ ˆ
- **Webæ¡†æ¶**: FastAPI
- **æ•°æ®åº“**: PostgreSQL
- **å‘é‡æ•°æ®åº“**: ChromaDB  
- **AIæ¨¡å‹**: DeepSeek API
- **ç¼“å­˜**: Redis (å¯é€‰)
- **å‰ç«¯**: è‡ªåŠ¨ç”Ÿæˆçš„APIæ–‡æ¡£

### ç›®å½•ç»“æ„
```
.
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py              # æœåŠ¡å…¥å£
â”‚   â””â”€â”€ yuqing/
â”‚       â”œâ”€â”€ api/             # APIè·¯ç”±
â”‚       â”œâ”€â”€ core/            # æ ¸å¿ƒé…ç½®
â”‚       â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚       â”œâ”€â”€ services/        # ä¸šåŠ¡æœåŠ¡
â”‚       â””â”€â”€ tasks/           # åå°ä»»åŠ¡
â”œâ”€â”€ config/                  # é…ç½®æ–‡ä»¶
â”œâ”€â”€ data/                    # æ•°æ®å­˜å‚¨
â”œâ”€â”€ logs/                    # æ—¥å¿—æ–‡ä»¶
â””â”€â”€ requirements.txt         # Pythonä¾èµ–
```

## ğŸ”§ ç³»ç»Ÿç®¡ç†

### å¯åŠ¨/åœæ­¢
```bash
# å¯åŠ¨ç³»ç»Ÿ
python src/main.py

# åœ¨ç»ˆç«¯ä¸­æŒ‰ Ctrl+C åœæ­¢æœåŠ¡
```

### ç›‘æ§çŠ¶æ€
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
type logs\app.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
type logs\error.log

# ç³»ç»ŸçŠ¶æ€æ£€æŸ¥
GET http://localhost:8000/api/news/stats
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### å®æ—¶ç›‘æ§
```bash
# è·å–æœ€è¿‘1å°æ—¶çš„é‡è¦æ–°é—»
GET /api/news/comprehensive?hours=1&limit=10

# è·å–æƒ…æ„Ÿåˆ†æç»Ÿè®¡
GET /api/analysis/stats/sentiment?hours=1
```

### å¸‚åœºåˆ†æ
```bash
# è·å–æœ€è¿‘24å°æ—¶çš„å¸‚åœºæ–°é—»åˆ†æ
GET /api/news/comprehensive?hours=24&limit=50

# è·å–æ­£é¢å½±å“çš„å…¬å¸å®ä½“
GET /api/entities/companies?impact_direction=positive&limit=20

# è·å–è¡Œä¸šå½±å“åˆ†æ
GET /api/entities/industries?limit=15
```

### çƒ­ç‚¹å‘ç°
```bash
# æ™ºèƒ½çƒ­ç‚¹å‘ç°
GET /api/analysis/hotspots/discover?limit=10&hours=6

# è·å–çƒ­é—¨å…³é”®è¯
GET /api/analysis/keywords/trending?limit=20&hours=24
```

### æ•°æ®ç ”ç©¶
```bash
# è·å–å®Œæ•´æ•°æ®ï¼ˆå«åŸå§‹æ•°æ®ï¼‰
GET /api/news/comprehensive?include_raw_data=true

# å®æ—¶æ–‡æœ¬å®ä½“æå–
POST /api/entities/entities/extract
{
  "text": "è¦åˆ†æçš„æ–°é—»æ–‡æœ¬",
  "enable_sentiment": true
}
```

## âš¡ æ€§èƒ½ç‰¹æ€§

- **å¹¶å‘å¤„ç†**: 10ä¸ªDeepSeek APIå¯†é’¥å¹¶å‘åˆ†æ
- **æ™ºèƒ½ç¼“å­˜**: è‡ªåŠ¨ç¼“å­˜åˆ†æç»“æœï¼Œé¿å…é‡å¤è®¡ç®—
- **å¢é‡æ›´æ–°**: åªåˆ†ææ–°é‡‡é›†çš„æ•°æ®
- **å¼‚æ­¥å¤„ç†**: é‡‡é›†å’Œåˆ†æå¼‚æ­¥è¿›è¡Œï¼Œä¸é˜»å¡APIæŸ¥è¯¢
- **å¤šæºé‡‡é›†**: Google News (RSS) + è´¢è”ç¤¾ + æ™ºèƒ½çƒ­ç‚¹å‘ç°
- **å®ä½“è¯†åˆ«**: å…¬å¸ã€äººç‰©ã€è¡Œä¸šã€äº‹ä»¶å››å¤§ç±»å®ä½“åˆ†æ
- **çƒ­ç‚¹å‘ç°**: AIé©±åŠ¨çš„æ™ºèƒ½çƒ­ç‚¹è¯†åˆ«å’Œè¶‹åŠ¿åˆ†æ

## ğŸ› ï¸ ç³»ç»ŸåŠŸèƒ½

### æ•°æ®é‡‡é›†
- **Google News RSS**: å®æ—¶RSSæºé‡‡é›†
- **è´¢è”ç¤¾**: ä¸“ä¸šé‡‘èæ–°é—»é‡‡é›†
- **çƒ­ç‚¹å‘ç°**: å¤šç»´åº¦çƒ­ç‚¹æ–°é—»å‘ç°
- **å»é‡æœºåˆ¶**: æ™ºèƒ½å»é‡ï¼Œé¿å…é‡å¤æ•°æ®

### AIåˆ†æ
- **æƒ…æ„Ÿåˆ†æ**: æ­£é¢/è´Ÿé¢/ä¸­æ€§æƒ…æ„Ÿåˆ¤æ–­
- **å¸‚åœºå½±å“**: é«˜/ä¸­/ä½å¸‚åœºå½±å“è¯„ä¼°
- **ç½®ä¿¡åº¦è¯„åˆ†**: AIåˆ†æç»“æœç½®ä¿¡åº¦
- **å…³é”®è¯æå–**: è‡ªåŠ¨æå–æ–°é—»å…³é”®è¯

### å®ä½“è¯†åˆ«
- **å…¬å¸å®ä½“**: è¯†åˆ«æ–°é—»ä¸­çš„å…¬å¸åŠå…¶å½±å“
- **äººç‰©å®ä½“**: è¯†åˆ«é‡è¦äººç‰©åŠå…¶ä½œç”¨
- **è¡Œä¸šå½±å“**: åˆ†æå¯¹ä¸åŒè¡Œä¸šçš„å½±å“
- **å…³é”®äº‹ä»¶**: è¯†åˆ«é‡è¦äº‹ä»¶åŠå…¶å½±å“

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- **åœ¨çº¿APIæ–‡æ¡£**: http://localhost:8000/docs (Swagger UI)
- **ç³»ç»Ÿé…ç½®**: `.env` æ–‡ä»¶é…ç½®è¯´æ˜
- **APIæµ‹è¯•**: http://localhost:8000/redoc (ReDocæ–‡æ¡£)

## ğŸ” APIç«¯ç‚¹æ€»è§ˆ

### æ–°é—»API (8ä¸ªç«¯ç‚¹)
- ç»¼åˆæ•°æ®APIã€æ–°é—»åˆ—è¡¨ã€æ–°é—»è¯¦æƒ…ã€ç»Ÿè®¡ä¿¡æ¯
- è´¢è”ç¤¾ä¸“ç”¨APIï¼šæœ€æ–°ã€è·å–ã€æœç´¢ã€æ•°æ®æºç»Ÿè®¡

### åˆ†æAPI (7ä¸ªç«¯ç‚¹)  
- åˆ†æåˆ—è¡¨ã€æƒ…æ„Ÿç»Ÿè®¡ã€æ—¶é—´çº¿ã€æ‰‹åŠ¨åˆ†æ
- çƒ­é—¨å…³é”®è¯ã€çƒ­ç‚¹å‘ç°ã€è¶‹åŠ¿å…³é”®è¯

### å®ä½“API (6ä¸ªç«¯ç‚¹)
- å…¬å¸ã€äººç‰©ã€è¡Œä¸šã€äº‹ä»¶å®ä½“åˆ†æ
- å®ä½“æå–ã€ç»Ÿè®¡æ‘˜è¦

### ç®¡ç†API (2ä¸ªç«¯ç‚¹)
- ç³»ç»Ÿå¥åº·æ£€æŸ¥ã€é…ç½®ä¿¡æ¯

**æ€»è®¡**: 23ä¸ªAPIç«¯ç‚¹ï¼Œå®Œæ•´è¦†ç›–æ‰€æœ‰åŠŸèƒ½æ¨¡å—

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ğŸ”§ ç³»ç»Ÿç›‘æ§
- **å®æ—¶çŠ¶æ€**: `GET http://localhost:8000/api/news/stats`
- **åº”ç”¨æ—¥å¿—**: `logs/app.log`
- **é”™è¯¯æ—¥å¿—**: `logs/error.log`

### ğŸ“š æ–‡æ¡£èµ„æº
- **APIæ–‡æ¡£**: http://localhost:8000/docs (Swagger UI)
- **ReDocæ–‡æ¡£**: http://localhost:8000/redoc

### âš™ï¸ é…ç½®æ–‡ä»¶
- **ç¯å¢ƒé…ç½®**: `.env` (æ•°æ®åº“ã€APIå¯†é’¥ç­‰)
- **APIå¯†é’¥**: `config/api_keys.txt` (DeepSeekå¯†é’¥)
- **æ—¥å¿—é…ç½®**: è‡ªåŠ¨è½®è½¬ï¼ŒæŒ‰æ—¥æœŸå­˜å‚¨

### ğŸ› æ•…éšœæ’é™¤
- **æ•°æ®åº“è¿æ¥**: æ£€æŸ¥PostgreSQLæœåŠ¡çŠ¶æ€
- **APIåˆ†æ**: éªŒè¯DeepSeek APIå¯†é’¥æœ‰æ•ˆæ€§  
- **å†…å­˜ä½¿ç”¨**: ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ
- **ç«¯å£å ç”¨**: ç¡®ä¿8000ç«¯å£å¯ç”¨

---

*æœ€åæ›´æ–°: 2024å¹´7æœˆ*
